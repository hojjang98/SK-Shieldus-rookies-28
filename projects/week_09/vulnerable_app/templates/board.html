{% extends "base.html" %}

{% block title %}Board{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>ğŸ“ ê²Œì‹œíŒ</h2>
    {% if session.username %}
        <a href="/board/write" class="btn btn-primary">ê¸€ì“°ê¸°</a>
    {% endif %}
</div>

<div class="alert alert-warning">
    <strong>âš ï¸ XSS ì·¨ì•½ì :</strong> ì´ ê²Œì‹œíŒì€ XSS ê³µê²©ì— ì·¨ì•½í•©ë‹ˆë‹¤. ê²Œì‹œê¸€ì— ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</div>

<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th width="10%">ë²ˆí˜¸</th>
                <th width="50%">ì œëª©</th>
                <th width="20%">ì‘ì„±ì</th>
                <th width="20%">ì‘ì„±ì¼</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
            <tr>
                <td>{{ post.id }}</td>
                <td>
                    <!-- ì·¨ì•½: XSS ë°©ì–´ ì—†ìŒ (|safe ì‚¬ìš©) -->
                    {{ post.title|safe }}
                </td>
                <td>{{ post.author }}</td>
                <td>{{ post.created_at }}</td>
            </tr>
            <tr>
                <td colspan="4" class="bg-light">
                    <!-- ì·¨ì•½: XSS ë°©ì–´ ì—†ìŒ -->
                    <div class="p-2">{{ post.content|safe }}</div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
