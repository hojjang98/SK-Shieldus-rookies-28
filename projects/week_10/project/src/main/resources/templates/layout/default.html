<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rookies DNA Lab</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

    <link href="/css/style.css" rel="stylesheet">
</head>

<body>
    <div class="app">
        <aside class="sidebar">
            <div class="brand">
                <a href="/" class="d-flex align-items-center gap-2">
                    <i class="bi bi-dna text-primary"></i>
                    <span>Rookies DNA</span>
                </a>
                <span class="sub" th:if="${session.loginUser != null}"
                    th:text="${session.loginUser.nickname} + ' · ' + ${session.loginUser.role}">
                    접속자
                </span>
            </div>

            <div class="side-scroll">
                <div class="nav-group">
                    <div class="nav-title">검사</div>
                    <a class="nav-link" href="/board/list">
                        <i class="bi bi-clipboard2-check"></i>
                        <span>DNA 검사 신청</span>
                    </a>
                    <a class="nav-link" href="/libs/results">
                        <i class="bi bi-file-earmark-pdf"></i>
                        <span>검사 결과 조회</span>
                    </a>
                </div>

                <div class="nav-group">
                    <div class="nav-title">매칭</div>
                    <a class="nav-link" href="/employee/search">
                        <i class="bi bi-diagram-3"></i>
                        <span>DNA 매칭</span>
                    </a>
                </div>

                <div class="nav-group">
                    <div class="nav-title">지원</div>
                    <a class="nav-link" href="/support/ticket">
                        <i class="bi bi-life-preserver"></i>
                        <span>지원 요청</span>
                    </a>

                </div>

                <div class="nav-group">
                    <div class="nav-title">관리자</div>
                    <a class="nav-link" href="/admin/dna/applications"
                        th:if="${session.loginUser != null and session.loginUser.role == 'admin'}">
                        <i class="bi bi-shield-lock"></i>
                        <span>관리자</span>
                    </a>
                    <a class="nav-link" href="/libs/archive">
                        <i class="bi bi-archive"></i>
                        <span>자료실</span>
                    </a>
                </div>

                <div class="nav-group">
                    <div class="nav-title">운영</div>
                    <a class="nav-link" href="/admin/system">
                        <i class="bi bi-plug"></i>
                        <span>외부 연결 테스트</span>
                    </a>
                </div>
            </div>
        </aside>

        <main class="content">
            <header class="top-header">
                <div th:replace="~{layout/fragments :: user_menu}"></div>
            </header>

            <div class="page-wrap">
                <div th:replace="${content}"></div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>