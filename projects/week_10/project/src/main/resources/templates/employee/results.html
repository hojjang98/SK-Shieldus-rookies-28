<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/default :: layout(~{::section})}">
<body>
<section>
    <h2>DNA 정보 조회</h2>

    <div style="margin-bottom:12px; background:white; padding:16px; border-radius:8px;">
        <form action="/employee/results" method="get" style="display:grid; grid-template-columns: 1fr 120px; gap:10px; align-items:end; max-width:520px;">
            <div>
                <label>작성자 아이디</label><br>
                <input type="text" name="writer" style="width:100%; padding:10px;" th:value="${writer}">
            </div>
            <div>
                <button class="btn" style="background:#2563eb; width:100%;">조회</button>
            </div>
        </form>
    </div>

    <div style="background:white; padding:16px; border-radius:8px;">
        <div style="font-weight:700; margin-bottom:10px;">리포트 목록</div>

        <div th:if="${reports == null || #lists.isEmpty(reports)}" style="color:#64748b;">
            조회된 리포트가 없습니다.
        </div>

        <table th:if="${reports != null && !#lists.isEmpty(reports)}" border="1" style="width:100%; border-collapse:collapse;">
            <thead>
            <tr style="background:#f1f5f9;">
                <th style="padding:10px;">신청 번호</th>
                <th style="padding:10px;">분석 항목</th>
                <th style="padding:10px;">파일</th>
                <th style="padding:10px;">업로드</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="r : ${reports}">
                <td style="padding:10px;" th:text="${r.boardId}"></td>
                <td style="padding:10px;" th:text="${r.category}"></td>
                <td style="padding:10px;">
                    <a th:href="@{/employee/report/download(id=${r.id})}" th:text="${r.filename}"></a>
                </td>
                <td style="padding:10px;" th:text="${r.uploadedAt}"></td>
            </tr>
            </tbody>
        </table>

        <div style="margin-top:12px;">
            <a href="/employee/search" style="color:#2563eb;">DNA 매칭으로</a>
        </div>
    </div>
</section>
</body>
</html>
